setwd("/home/tminh/Documents/R/Learning-R/Chapter 12")
load("../Chapter 5/seg-df-saved.RData")
summary(seg.df)
seg.fac = seg.df
seg.fac$age = cut(seg.fac$age, breaks = c(0,25,35,55,65,100),
labels=c("19-24", "25-34", "35-54", "55-64", "65+"),
right = FALSE, ordered_result = TRUE)
summary
seg.fac$income = cut(seg.fac$income,
breaks = c(-100000, 40000, 70000, 1000000),
labels = c("Low", "Medium", "High"),
right = FALSE, ordered_result = TRUE)
seg.fac$kids = cut(seg.fac$kids,
breaks = c(0,1,2,3,100),
labels = c("No kid", "1 kid", "2 kids", "3+ kids"),
right = FALSE, ordered_result = TRUE)
summary(seg.fac)
seg.fac = seg.df
seg.fac$age = cut(seg.fac$age, breaks = c(0,25,35,55,65,100),
labels=c("19-24", "25-34", "35-54", "55-64", "65+"),
right = FALSE, ordered_result = TRUE)
seg.fac$income = cut(seg.fac$income,
breaks = c(-100000, 40000, 70000, 1000000),
labels = c("Low", "Medium", "High"),
right = FALSE, ordered_result = TRUE)
seg.fac$kids = cut(seg.fac$kids,
breaks = c(0,1,2,3,100),
labels = c("No kid", "1 kid", "2 kids", "3+ kids"),
right = FALSE, ordered_result = TRUE)
seg.fac$kids
seg.fac$`kids `
seg.fac$`kids ` = NULL
library(arules)
library(arulesViz)
seg.trans = as(seg.fac, "transactions")
summary(seg.trans)
seg.rules = apriori(seg.trans, parameter = list(supp=0.1, conf=0.4))
seg.rules = apriori(seg.trans, parameter = list(supp=0.1, conf=0.4, target='rules'))
summary(seg.rules)
plot(seg.rules)
seg.hi = head(sort(seg.rules, by='lift'), 35)
inspect(seg.hi)
plot(seg.hi , method="graph", control= list(type="items"))
retail.raw <- readLines(" https://goo.gl/wi8KHg")
retail.raw <- readLines("https://goo.gl/wi8KHg")
margin.short <- data.frame(retail.margin$margin)
retail.margin <- read.csv("https://goo.gl/Pidzpd")
rm(list=ls())
retail.raw <- readLines("https://goo.gl/wi8KHg")
retail.margin <- read.csv("https://goo.gl/Pidzpd")
margin.short <- data.frame(retail.margin$margin)
View(margin.short)
class(retail.margin)
write.csv(retail.margin, "retail-margin.csv")
retail.margin <- read.csv("retail-margin.csv")[-1,]
retail.margin <- read.csv("retail-margin.csv")[,-1]
class(retail.raw)
830*3
rownames(margin. short) <- retail.margin$ item
rownames(margin.short) <- retail.margin$item
View(margin.short)
retail.trans = list(retail.raw)
View(retail.trans)
retail.trans = strsplit(retail.raw, split = " ")
library(arules)
retail.trans = as(strsplit(retail.raw, split = " "), 'transactions')
summary(retail.trans)
retail.rules = apriori(retail.trans, parameter = list(supp=0.1, conf=0.4, target='rules'))
summary(retail.rules)
retail.rules = apriori(retail.trans, parameter = list(supp=0.01, conf=0.4, target='rules'))
summary(retail.rules)
retail.rules = apriori(retail.trans, parameter = list(supp=0.01, conf=0.1, target='rules'))
summary(retail.rules)
retail.rules = apriori(retail.trans, parameter = list(supp=0.001, conf=0.1, target='rules'))
summary(retail.rules)
retail.rules = apriori(retail.trans, parameter = list(supp=0.001, conf=0.1))
summary(retail.rules)
retail.rules = apriori(retail.trans, parameter = list(supp=0.001, conf=0.01))
summary(retail.rules)
retail.rules = apriori(retail.trans, parameter = list(supp=0.001, conf=0.4))
summary(retail.rules)
summary(retail.trans)
retail.rules = apriori(retail.trans, parameter = list(supp=0.0001, conf=0.4))
summary(retail.rules)
retail.rules = apriori(retail.trans, parameter = list(supp=0.0001, conf=0.4, maxlen=100))
